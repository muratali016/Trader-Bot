from kucoin.client import Trade
from kucoin.client import Market
import pandas as pd
from time import sleep
import datetime
import sys
import time

api_key = 'x'
api_secret = 'x'
api_passphrase = 'x'


m_client = Market(url='https://api.kucoin.com')
client = Trade(api_key, api_secret, api_passphrase)
symbolss= m_client.get_symbol_list()


symbols=['TUNE-USDT','AVA-USDT', 'MTV-USDT', 'KMD-USDT', 'RFOX-USDT', 'TEL-USDT', 'TT-USDT', 'AERGO-USDT', 'XMR-USDT', 'ATOM-USDT', 'ETN-USDT', 'FTM-USDT', 'VSYS-USDT', 'CHR-USDT', 'COTI-USDT', 'BNB-USDT', 'JAR-USDT', 'ALGO-USDT', 'XEM-USDT', 'CIX100-USDT', 'XTZ-USDT', 'ZEC-USDT', 'ADA-USDT', 'R-USDT', 'FORESTPLUS-USDT', 'BOLT-USDT', 'ARPA-USDT', 'CHZ-USDT', 'DAPPT-USDT', 'NOIA-USDT', 'WIN-USDT', 'DERO-USDT', 'BTT-USDT', 'EOSC-USDT', 'ENQ-USDT', 'ONE-USDT', 'TOKO-USDT', 'VID-USDT', 'LUNA-USDT', 'SXP-USDT', 'AKRO-USDT', 'MAP-USDT', 'AMPL-USDT', 'DAG-USDT', 'POL-USDT', 'ARX-USDT', 'NWC-USDT', 'BEPRO-USDT', 'VRA-USDT', 'KSM-USDT', 'DASH-USDT', 'SUTER-USDT', 'ACOIN-USDT', 'SENSO-USDT', 'XDB-USDT', 'SYLO-USDT', 'WOM-USDT', 'DGB-USDT', 'LYXE-USDT', 'STX-USDT', 'COMP-USDT', 'CRO-USDT', 'KAI-USDT', 'WEST-USDT', 'WAVES-USDT', 'ORN-USDT', 'BNS-USDT', 'MKR-USDT', 'MLK-USDT', 'JST-USDT', 'SUKU-USDT', 'DIA-USDT', 'LINK-USDT', 'DOT-USDT', 'SHA-USDT', 'EWT-USDT', 'USDJ-USDT', 'CKB-USDT', 'UMA-USDT', 'ALEPH-USDT', 'VELO-USDT', 'SUN-USDT', 'BUY-USDT', 'YFI-USDT', 'LOKI-USDT', 'UNI-USDT', 'UOS-USDT', 'NIM-USDT', 'DEGO-USDT', 'RFUEL-USDT', 'FIL-USDT', 'REAP-USDT', 'AAVE-USDT', 'KCS-USDT', 'LTC-USDT', 'BCHSV-USDT', 'XLM-USDT', 'KAT-USDT', 'ETC-USDT', 'ETH-USDT', 'AOA-USDT', 'SNX-USDT', 'LYM-USDT', 'BTC-USDT', 'XRP-USDT', 'TRX-USDT', 'ONT-USDT', 'VET-USDT', 'NEO-USDT', 'EOS-USDT', 'OLT-USDT', 'BCH-USDT', 'PRE-USDT', 'SHR-USDT', 'VIDT-USDT', 'ROSE-USDT', 'USDC-USDT', 'CTI-USDT', 'XHV-USDT', 'PLU-USDT', 'GRT-USDT', 'CAS-USDT', 'MSWAP-USDT', 'REVV-USDT', '1INCH-USDT', 'LOC-USDT', 'API3-USDT', 'UNFI-USDT', 'HTR-USDT', 'FRONT-USDT', 'MIR-USDT', 'HYDRA-USDT', 'DFI-USDT', 'CRV-USDT', 'SUSHI-USDT', 'FRM-USDT', 'ZEN-USDT', 'CUDOS-USDT', 'REN-USDT', 'LRC-USDT', 'KLV-USDT', 'BOA-USDT', 'THETA-USDT', 'QNT-USDT', 'BAT-USDT', 'DOGE-USDT', 'DAO-USDT', 'STRONG-USDT', 'TRIAS-USDT', 'MITX-USDT', 'CAKE-USDT', 'ORAI-USDT', 'ZEE-USDT', 'LTX-USDT', 'MASK-USDT', 'IDEA-USDT', 'PHA-USDT', 'SRK-USDT', 'SWINGBY-USDT', 'GAS-USDT', 'AVAX-USDT', 'KRL-USDT', 'POLK-USDT', 'ENJ-USDT', 'MANA-USDT', 'RNDR-USDT', 'RLY-USDT', 'ANC-USDT', 'SKEY-USDT', 'LAYER-USDT', 'TARA-USDT', 'IOST-USDT', 'DYP-USDT', 'XYM-USDT', 'PCX-USDT', 'ORBS-USDT', 'BTC3L-USDT', 'BTC3S-USDT', 'ETH3L-USDT', 'ETH3S-USDT', 'ANKR-USDT', 'DSLA-USDT', 'SAND-USDT', 'VAI-USDT', 'XCUR-USDT', 'FLUX-USDT', 'OMG-USDT', 'ZIL-USDT', 'DODO-USDT', 'MAN-USDT', 'BAX-USDT', 'BOSON-USDT', 'PUNDIX-USDT', 'WAX-USDT', 'HT-USDT', 'PDEX-USDT', 'LABS-USDT', 'GMB-USDT', 'PHNX-USDT', 'HAI-USDT', 'EQZ-USDT', 'FORTH-USDT', 'CGG-USDT', 'UBX-USDT', 'GHX-USDT', 'STND-USDT', 'TOWER-USDT', 'ACE-USDT', 'LOCG-USDT', 'CARD-USDT', 'FLY-USDT', 'CWS-USDT', 'XDC-USDT', 'SHIB-USDT', 'POLX-USDT', 'KDA-USDT', 'ICP-USDT', 'STC-USDT', 'GOVI-USDT', 'FKX-USDT', 'CELO-USDT', 'CUSD-USDT', 'MATIC-USDT', 'ELA-USDT', 'CRPT-USDT', 'OPCT-USDT', 'OGN-USDT', 'OUSD-USDT', 'TLOS-USDT', 'GLQ-USDT', 'MXC-USDT', 'ERSDL-USDT', 'HOTCROSS-USDT', 'ADA3L-USDT', 'ADA3S-USDT', 'HYVE-USDT', 'DAPPX-USDT', 'KONO-USDT', 'PRQ-USDT', 'MAHA-USDT', 'FEAR-USDT', 'PYR-USDT', 'PROM-USDT', 'GLCH-USDT', 'UNO-USDT', 'XCAD-USDT', 'EOS3L-USDT', 'EOS3S-USDT', 'BCH3L-USDT', 'BCH3S-USDT', 'ELON-USDT', 'APL-USDT', 'VEED-USDT', 'DIVI-USDT', 'POLS-USDT', 'LPOOL-USDT', 'LSS-USDT', 'VET3L-USDT', 'VET3S-USDT', 'LTC3L-USDT', 'LTC3S-USDT', 'ABBC-USDT', 'KOK-USDT', 'ZCX-USDT', 'NORD-USDT', 'GMEE-USDT', 'SFUND-USDT', 'XAVA-USDT', 'AI-USDT', 'IOI-USDT', 'NFT-USDT', 'MNST-USDT', 'MEM-USDT', 'AGIX-USDT', 'CQT-USDT', 'AIOZ-USDT', 'MARSH-USDT', 'HAPI-USDT', 'MODEFI-USDT', 'YFDAI-USDT', 'GENS-USDT', 'FORM-USDT', 'ARRR-USDT', 'LPT-USDT', 'ASD-USDT', 'BOND-USDT', 'SOUL-USDT', '2CRZ-USDT', 'NEAR-USDT', 'DFYN-USDT', 'OOE-USDT', 'CFG-USDT', 'AXS-USDT', 'CLV-USDT', 'ROUTE-USDT', 'KAR-USDT', 'EFX-USDT', 'PMON-USDT', 'DPET-USDT', 'ERG-USDT', 'SOL-USDT', 'SLP-USDT', 'LITH-USDT', 'XCH-USDT', 'HAKA-USDT', 'MTL-USDT', 'IOTX-USDT', 'GALAX-USDT', 'REQ-USDT', 'TXA-USDT', 'CIRUS-USDT', 'QI-USDT', 'ODDZ-USDT', 'PNT-USDT', 'XPR-USDT', 'TRIBE-USDT', 'MOVR-USDT', 'WOO-USDT', 'WILD-USDT', 'QRDO-USDT', 'MAKI-USDT', 'OXT-USDT', 'BAL-USDT', 'STORJ-USDT', 'YGG-USDT', 'NDAU-USDT', 'SDAO-USDT', 'XRP3L-USDT', 'XRP3S-USDT', 'SKL-USDT', 'NMR-USDT', 'IXS-USDT', 'TRB-USDT', 'DYDX-USDT', 'XYO-USDT', 'GTC-USDT', 'EQX-USDT', 'RLC-USDT', 'XPRT-USDT', 'EGLD-USDT', 'HBAR-USDT', 'DOGE3L-USDT', 'DOGE3S-USDT', 'FLOW-USDT', 'NKN-USDT', 'PBX-USDT', 'SOL3L-USDT', 'SOL3S-USDT', 'MLN-USDT', 'XNL-USDT', 'SOLVE-USDT', 'DMTR-USDT', 'LINK3L-USDT', 'LINK3S-USDT', 'DOT3L-USDT', 'DOT3S-USDT', 'CTSI-USDT', 'ALICE-USDT', 'OPUL-USDT', 'ILV-USDT', 'BAND-USDT', 'FTT-USDT', 'DVPN-USDT', 'SKU-USDT', 'SLIM-USDT', 'TLM-USDT', 'DEXE-USDT', 'MATTER-USDT', 'RUNE-USDT', 'RMRK-USDT', 'C98-USDT', 'BLOK-USDT', 'SOLR-USDT', 'ATOM3L-USDT', 'ATOM3S-USDT', 'UNI3L-USDT', 'UNI3S-USDT', 'WSIENNA-USDT', 'PUSH-USDT', 'NTVRK-USDT', 'AXS3L-USDT', 'AXS3S-USDT', 'FTM3L-USDT', 'FTM3S-USDT', 'FLAME-USDT', 'AGLD-USDT', 'NAKA-USDT', 'YLD-USDT', 'TONE-USDT', 'REEF-USDT', 'TIDAL-USDT', 'TVK-USDT', 'INJ-USDT', 'BNB3L-USDT', 'BNB3S-USDT', 'MATIC3L-USDT', 'MATIC3S-USDT', 'VEGA-USDT', 'ALPHA-USDT', 'ZKT-USDT', 'AR-USDT', 'JASMY-USDT', 'PERP-USDT', 'SCLP-USDT', 'SUPER-USDT', 'CPOOL-USDT', 'HERO-USDT', 'XED-USDT', 'AURY-USDT', 'SWASH-USDT', 'LTO-USDT', 'BUX-USDT', 'MTRG-USDT', 'DREAMS-USDT', 'QUICK-USDT', 'TRU-USDT', 'WRX-USDT', 'SUSHI3L-USDT', 'SUSHI3S-USDT', 'NEAR3L-USDT', 'NEAR3S-USDT', 'DATA-USDT', 'ISP-USDT', 'CERE-USDT', 'SHILL-USDT', 'HEGIC-USDT', 'ERN-USDT', 'FTG-USDT', 'PAXG-USDT', 'AUDIO-USDT', 'ENS-USDT', 'AAVE3L-USDT', 'AAVE3S-USDT', 'SAND3L-USDT', 'SAND3S-USDT', 'XTM-USDT', 'MNW-USDT', 'FXS-USDT', 'ATA-USDT', 'VXV-USDT', 'DPR-USDT', 'CWAR-USDT', 'PBR-USDT', 'ANT-USDT', 'COV-USDT', 'SWP-USDT', 'TWT-USDT', 'OM-USDT', 'ADX-USDT', 'AVAX3L-USDT', 'AVAX3S-USDT', 'MANA3L-USDT', 'MANA3S-USDT', 'GLM-USDT', 'NUM-USDT', 'VLX-USDT', 'TRADE-USDT', '1EARTH-USDT', 'MONI-USDT', 'LIKE-USDT', 'LIT-USDT', 'KAVA-USDT', 'SFP-USDT', 'BURGER-USDT', 'ILA-USDT', 'CREAM-USDT', 'RSR-USDT', 'IMX-USDT', 'GODS-USDT', 'KMA-USDT', 'SRM-USDT', 'POLC-USDT', 'XTAG-USDT', 'MNET-USDT', 'NGC-USDT', 'HARD-USDT', 'GALAX3L-USDT', 'GALAX3S-USDT', 'UNIC-USDT', 'POND-USDT', 'VR-USDT', 'EPIK-USDT', 'NGL-USDT', 'KDON-USDT', 'PEL-USDT', 'LINA-USDT', 'KLAY-USDT', 'CREDI-USDT', 'TRVL-USDT', 'LACE-USDT', 'ARKER-USDT', 'BONDLY-USDT', 'XEC-USDT', 'HEART-USDT', 'UNB-USDT', 'GAFI-USDT', 'KOL-USDT', 'H3RO3S-USDT', 'FALCONS-USDT', 'UFO-USDT', 'CHMB-USDT', 'GEEQ-USDT', 'ORC-USDT', 'RACEFI-USDT', 'PEOPLE-USDT', 'ADS-USDT', 'OCEAN-USDT', 'SOS-USDT', 'WHALE-USDT', 'TIME-USDT', 'CWEB-USDT', 'IOTA-USDT', 'HNT-USDT', 'GGG-USDT', 'REVU-USDT', 'CLH-USDT', 'PLGR-USDT', 'GLMR-USDT', 'CTC-USDT', 'GARI-USDT', 'FRR-USDT', 'ASTR-USDT', 'ERTHA-USDT', 'FCON-USDT', 'ACA-USDT', 'MTS-USDT', 'ROAR-USDT', 'HBB-USDT', 'CVX-USDT', 'AMP-USDT', 'ACT-USDT', 'MJT-USDT', 'SHX-USDT', 'STARLY-USDT', 'ONSTON-USDT', 'RANKER-USDT', 'WMT-USDT', 'XNO-USDT', 'MARS4-USDT', 'TFUEL-USDT', 'METIS-USDT', 'LAVAX-USDT', 'WAL-USDT', 'BULL-USDT', 'SON-USDT', 'MELOS-USDT', 'APE-USDT', 'GMT-USDT', 'BICO-USDT', 'STG-USDT', 'LMR-USDT', 'LOKA-USDT', 'URUS-USDT', 'JAM-USDT', 'BNC-USDT', 'LBP-USDT', 'CFX-USDT', 'LOOKS-USDT', 'XCN-USDT', 'TITAN-USDT', 'UPO-USDT', 'SLCL-USDT', 'CEEK-USDT', 'NHCT-USDT', 'ARNM-USDT', 'FRA-USDT', 'VISION-USDT', 'COCOS-USDT', 'ALPINE-USDT', 'ZBC-USDT', 'WOOP-USDT', 'T-USDT', 'NYM-USDT', 'VOXEL-USDT', 'PSTAKE-USDT', 'SPA-USDT', 'SYNR-USDT', 'DAR-USDT', 'MV-USDT', 'XDEFI-USDT', 'RACA-USDT', 'XWG-USDT', 'HAWK-USDT', 'SWFTC-USDT', 'BRWL-USDT', 'TAUM-USDT', 'CELR-USDT', 'AURORA-USDT', 'POSI-USDT', 'COOHA-USDT', 'KNC-USDT', 'EPK-USDT', 'PLD-USDT', 'PSL-USDT', 'PKF-USDT', 'OVR-USDT', 'SYS-USDT', 'BRISE-USDT', 'DG-USDT', 'EPX-USDT', 'GST-USDT', 'PLY-USDT', 'GAL-USDT', 'BSW-USDT', 'FITFI-USDT', 'FSN-USDT', 'H2O-USDT', 'GMM-USDT', 'AKT-USDT', 'SIN-USDT', 'AUSD-USDT', 'BOBA-USDT', 'BFC-USDT', 'BIFI-USDT', 'DFA-USDT', 'MBL-USDT', 'DUSK-USDT', 'USDD-USDT', 'MLS-USDT', 'AFK-USDT', 'ACH-USDT', 'SCRT-USDT', 'APE3L-USDT', 'APE3S-USDT', 'STORE-USDT', 'GMT3L-USDT', 'GMT3S-USDT', 'CCD-USDT', 'LUNC-USDT', 'USTC-USDT', 'OP-USDT', 'JASMY3L-USDT', 'JASMY3S-USDT', 'EVER-USDT', 'MOOV-USDT', 'IHC-USDT', 'ICX-USDT', 'WELL-USDT', 'FORT-USDT', 'USDP-USDT', 'CSPR-USDT', 'WEMIX-USDT', 'REV3L-USDT', 'OLE-USDT', 'LDO-USDT', 'CULT-USDT', 'FIDA-USDT', 'BUSD-USDT', 'RBP-USDT', 'SRBP-USDT', 'HIBAYC-USDT', 'OGV-USDT', 'WOMBAT-USDT', 'HIPUNKS-USDT', 'FT-USDT', 'HIENS4-USDT', 'EGAME-USDT', 'STEPWATCH-USDT', 'HISAND33-USDT', 'DC-USDT', 'NEER-USDT', 'RVN-USDT', 'HIENS3-USDT', 'MC-USDT', 'PEEL-USDT', 'SDL-USDT', 'SWEAT-USDT', 'HIODBS-USDT', 'CMP-USDT', 'PIX-USDT', 'MPLX-USDT', 'HIDOODLES-USDT', 'ETHW-USDT', 'QUARTZ-USDT', 'ACQ-USDT', 'AOG-USDT', 'HIMAYC-USDT', 'PRMX-USDT', 'RED-USDT', 'PUMLX-USDT', 'XETA-USDT', 'GEM-USDT', 'DERC-USDT', 'P00LS-USDT', 'KICKS-USDT', 'TRIBL-USDT', 'GMX-USDT', 'HIOD-USDT', 'POKT-USDT', 'EFI-USDT', 'APT-USDT', 'BBC-USDT', 'EUL-USDT', 'TON-USDT', 'PIAS-USDT', 'HIMEEBITS-USDT', 'HISQUIGGLE-USDT', 'XCV-USDT', 'HFT-USDT', 'ECOX-USDT', 'AMB-USDT', 'AZERO-USDT', 'HIFIDENZA-USDT', 'BEAT-USDT', 'NRFB-USDT', 'HIGAZERS-USDT', 'NAVI-USDT', 'CARE-USDT', 'CLUB-USDT', 'HIPENGUINS-USDT', 'ALT-USDT', 'HICLONEX-USDT', 'PRIMAL-USDT', 'OAS-USDT', 'HICOOLCATS-USDT', 'HIAZUKI-USDT', 'TEM-USDT', 'HIFLUF-USDT', 'HIBIRDS-USDT', 'BDX-USDT', 'FLR-USDT', 'HIMFERS-USDT', 'OSMO-USDT', 'ASTRA-USDT', 'MAGIC-USDT', 'SQUAD-USDT', 'SIMP-USDT', 'HIVALHALLA-USDT', 'RPL-USDT', 'HIRENGA-USDT', 'KING-USDT', 'SHIB2L-USDT', 'SHIB2S-USDT', 'OP2L-USDT', 'OP2S-USDT', 'HIGH-USDT', 'HIUNDEAD-USDT', 'AGIX2L-USDT', 'AGIX2S-USDT', 'TRAC-USDT', 'GRT2L-USDT', 'GRT2S-USDT', 'APT2L-USDT', 'APT2S-USDT', 'GFT-USDT', 'BLUR-USDT', 'HIFRIENDS-USDT', 'WAXL-USDT', 'FLOKI-USDT', 'SSV-USDT', 'ACS-USDT', 'IGU-USDT', 'BLUR2L-USDT', 'BLUR2S-USDT', 'CSIX-USDT', 'FET-USDT', 'CFX2L-USDT', 'CFX2S-USDT', 'HISEALS-USDT', 'SIDUS-USDT', 'GOAL-USDT', 'AIPAD-USDT', 'RDNT-USDT', 'DPX-USDT', 'SYN-USDT', 'GNS-USDT', 'GRAIL-USDT', 'BLZ-USDT', 'HIBEANZ-USDT', 'HALO-USDT', 'NXRA-USDT', 'MINA-USDT', 'XRD-USDT', 'NOM-USDT', 'LQTY-USDT', 'ID-USDT', 'ARB-USDT', 'ARB3S-USDT', 'ARB3L-USDT', 'ID3L-USDT', 'ID3S-USDT', 'HMND-USDT', 'BTCUP-USDT', 'BTCDOWN-USDT', 'ETHUP-USDT', 'ETHDOWN-USDT', 'HIFI-USDT', 'MYRIA-USDT', 'SD-USDT', 'CGPT-USDT', 'STRAX-USDT', 'KAGI-USDT', 'RLTM-USDT', 'DYDXUP-USDT', 'DYDXDOWN-USDT', 'SXPUP-USDT', 'SXPDOWN-USDT', 'MASKUP-USDT', 'MASKDOWN-USDT', 'OTK-USDT', 'RNDRUP-USDT', 'RNDRDOWN-USDT', 'STXUP-USDT', 'STXDOWN-USDT', 'LINAUP-USDT', 'LINADOWN-USDT', 'GPT-USDT', 'BABYDOGE-USDT', 'PZP-USDT', 'INJDOWN-USDT', 'ETCUP-USDT', 'ETCDOWN-USDT', 'INJUP-USDT', 'LOCUS-USDT', 'IRON-USDT', 'ZPAY-USDT', 'IZI-USDT', 'SUI-USDT', 'SUI3S-USDT', 'SUI3L-USDT', 'KAS-USDT', 'PEPE-USDT', 'PEPEUP-USDT', 'PEPEDOWN-USDT', 'ICPUP-USDT', 'ICPDOWN-USDT', 'CTSIUP-USDT', 'CTSIDOWN-USDT', 'CETUS-USDT', 'SUIP-USDT', 'KARATE-USDT', 'WLKN-USDT', 'TURBOS-USDT', 'FLOKIUP-USDT', 'FLOKIDOWN-USDT', 'KAVAUP-USDT', 'KAVADOWN-USDT', 'LUNCUP-USDT', 'LUNCDOWN-USDT', 'ZILUP-USDT', 'ZILDOWN-USDT', 'WOOUP-USDT', 'WOODOWN-USDT']
great_potentials=[]
"""
for i in symbolss:
    if i["symbol"][-1]=="T":
        symbols.append(i["symbol"])
"""

#print(symbols)
great_potentials=[]
print("total length of coin list:",len(symbols))
print("Finding the coins that have great potential")

for symbol in symbols[0:1]:
    btc = m_client.get_kline(symbol, kline_type="1min")
    try:
        last_price_1_hour_ago = btc[60][1]
    except:
        print("List index error")    
    #print(f"last_price_1_hour_ago for {symbol}: {last_price_1_hour_ago}")
    sleep(3)
    ticker = m_client.get_ticker(symbol)
    current_price = ticker['price']
    #print(f"current_price for {symbol}: {current_price}")

    onehourprice_change_percent = (float(current_price) - float(last_price_1_hour_ago)) / float(last_price_1_hour_ago) * 100
    #print(f'{symbol} price change in the last hour: {onehourprice_change_percent:.2f}%')
    sleep(3)
    btc2 = m_client.get_kline(symbol, kline_type="30min")
    try:
        twenty4hours_before_price = btc2[48][1]
    except:
        print("List index error")
    onedayprice_change_percent = (float(current_price) - float(twenty4hours_before_price)) / float(twenty4hours_before_price) * 100
    print(f'{symbol} price change in the 24 hours: {onedayprice_change_percent:.2f}%')
   
    if onehourprice_change_percent >0 and onedayprice_change_percent >0:
        if ((onehourprice_change_percent / onedayprice_change_percent) * 100) > 40 and onedayprice_change_percent > 10:
            print(f"Great potential for coin: {symbol} Last24 hours change: {onedayprice_change_percent:.2f}%  portion:{((onehourprice_change_percent / onedayprice_change_percent) * 100):.2f}")    
            great_potentials.append(symbol)
        else:
            
            print(f"{symbol}, Last24 hours change: {onedayprice_change_percent:.2f}% DOES NOT satisfy the requirements portion:{((onehourprice_change_percent / onedayprice_change_percent) * 100):.2f}")    
    elif onehourprice_change_percent >0 and onedayprice_change_percent <0:
        print(f"coin {symbol} has a uptrend")
print(great_potentials)



